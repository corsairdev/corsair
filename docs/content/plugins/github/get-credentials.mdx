---
title: Get Credentials
description: Step-by-step instructions for obtaining GitHub Personal Access Tokens, OAuth credentials, and webhook secrets.
---

This guide walks you through obtaining all required credentials for the GitHub plugin.

## Authentication Methods

The GitHub plugin supports both API key (Personal Access Token) and OAuth 2.0 authentication methods.

- **`api_key`** - Personal Access Token authentication
- **`oauth_2`** - OAuth App authentication

## API Key Authentication (Personal Access Token)

### Step 1: Create Personal Access Token

1. Go to [GitHub Settings → Developer settings → Personal access tokens → Tokens (classic)](https://github.com/settings/tokens)
2. Click **Generate new token** → **Generate new token (classic)**
3. Give your token a descriptive name
4. Set an expiration (or select "No expiration" for long-lived tokens)
5. Select the required scopes:
   - `repo` - Full control of private repositories
   - `read:org` - Read org and team membership
   - `read:user` - Read user profile data
   - `workflow` - Update GitHub Action workflows
   - Add any other scopes your application needs
6. Click **Generate token**
7. **Important**: Copy the token immediately - you won't be able to see it again
8. Store the token securely

**Storing Credentials:**

The preferred method is to store the token in the database using the keys API:

```ts
await corsair
    .withTenant('default')
    .github.keys.setApiKey('your-personal-access-token');
```

Alternatively, you can provide the token directly in the plugin configuration:

```ts title="corsair.ts"
github({
    authType: "api_key",
    credentials: {
        token: process.env.GITHUB_TOKEN,
    },
})
```

## OAuth 2.0 Authentication

### Step 1: Register OAuth App

1. Go to [GitHub Settings → Developer settings → OAuth Apps](https://github.com/settings/developers)
2. Click **New OAuth App**
3. Fill in the application details:
   - **Application name**: Your app name
   - **Homepage URL**: Your application URL
   - **Authorization callback URL**: Your OAuth callback URL (e.g., `https://yourapp.com/auth/github/callback`)
4. Click **Register application**

### Step 2: Get Client Credentials

1. After registration, you'll see your **Client ID**
2. Click **Generate a new client secret**
3. Copy the **Client ID** and **Client Secret**
4. Store these securely

**Storing Credentials:**

The preferred method is to store OAuth credentials in the database using the keys API:

```ts
await corsair.github.keys.setClientId('your-client-id');
await corsair.github.keys.setClientSecret('your-client-secret');
await corsair.github.keys.setRedirectUrl('https://yourapp.com/auth/github/callback');
```

After users complete the OAuth flow, access tokens are automatically stored in the database. You can also set them manually:

```ts
await corsair
    .withTenant('default')
    .github.keys.setAccessToken('access-token');
await corsair
    .withTenant('default')
    .github.keys.setRefreshToken('refresh-token');
```

Alternatively, you can provide credentials directly in the plugin configuration:

```ts title="corsair.ts"
github({
    authType: "oauth_2",
    credentials: {
        clientId: process.env.GITHUB_CLIENT_ID,
        clientSecret: process.env.GITHUB_CLIENT_SECRET,
    },
})
```

## Webhook Secret

### Step 1: Create Webhook

1. Go to your repository on GitHub
2. Navigate to **Settings** → **Webhooks**
3. Click **Add webhook**
4. Configure the webhook:
   - **Payload URL**: Your webhook endpoint (e.g., `https://yourapp.com/api/webhook`)
   - **Content type**: `application/json`
   - **Secret**: Generate a random secret string (save this)
   - **Events**: Select the events you want to receive:
     - Pull requests
     - Pushes
     - Issues
     - Stars
     - Releases
5. Click **Add webhook**

### Step 2: Store Webhook Secret

Copy the secret you generated and store it securely.

**Storing Credentials:**

The preferred method is to store the webhook secret in the database using the keys API:

```ts
await corsair
    .withTenant('default')
    .github.keys.setWebhookSignature('your-webhook-secret');
```

Alternatively, you can provide the secret directly in the plugin configuration:

```ts title="corsair.ts"
github({
    webhookSecret: process.env.GITHUB_WEBHOOK_SECRET,
})
```

## Required Credentials Summary

| Credential | Required For | Where to Find |
|-----------|--------------|---------------|
| Personal Access Token | API Key auth | Settings → Developer settings → Personal access tokens |
| Client ID | OAuth 2.0 | Settings → Developer settings → OAuth Apps |
| Client Secret | OAuth 2.0 | Settings → Developer settings → OAuth Apps |
| Webhook Secret | Webhooks | Repository Settings → Webhooks → Secret |

For general information about how Corsair handles authentication, see [Authentication](/concepts/auth).
