---
title: Get Credentials
description: Step-by-step instructions for obtaining HubSpot API keys, OAuth credentials, and webhook secrets.
---

This guide walks you through obtaining all required credentials for the HubSpot plugin.

## Authentication Methods

The HubSpot plugin supports both API key and OAuth 2.0 authentication methods.

- **`api_key`** - Private App API key authentication
- **`oauth_2`** - OAuth 2.0 authentication

## API Key Authentication (Private App)

### Step 1: Create Private App

1. Go to HubSpot Settings
2. Navigate to **Integrations** → **Private Apps**
3. Click **Create a private app**
4. Enter an app name
5. Click **Create app**

### Step 2: Configure Scopes

1. In your private app settings, go to **Scopes** tab
2. Select the required scopes:
   - `crm.objects.contacts.read`
   - `crm.objects.contacts.write`
   - `crm.objects.companies.read`
   - `crm.objects.companies.write`
   - `crm.objects.deals.read`
   - `crm.objects.deals.write`
   - `crm.objects.tickets.read`
   - `crm.objects.tickets.write`
   - `engagements.read`
   - `engagements.write`
   - Add any other scopes your application needs
3. Click **Save**

### Step 3: Get API Key

1. Go to the **Overview** tab
2. Under **API key**, click **Show** to reveal the key
3. Copy the API key
4. Store it securely

**Storing Credentials:**

The preferred method is to store the API key in the database using the keys API:

```ts
await corsair
    .withTenant('default')
    .hubspot.keys.setApiKey('your-api-key');
```

Alternatively, you can provide the key directly in the plugin configuration:

```ts title="corsair.ts"
hubspot({
    authType: "api_key",
    credentials: {
        apiKey: process.env.HUBSPOT_API_KEY,
    },
})
```

## OAuth 2.0 Authentication

### Step 1: Create App

1. Go to [HubSpot Developer Portal](https://developers.hubspot.com/)
2. Click **Create app**
3. Enter your app name and click **Create app**

### Step 2: Configure OAuth Settings

1. In your app settings, go to **Auth** tab
2. Under **Redirect URLs**, click **Add**
3. Add your OAuth redirect URL (e.g., `https://yourapp.com/auth/hubspot/callback`)
4. Click **Save**

### Step 3: Get Client Credentials

1. In the **Auth** tab, you'll see your **Client ID**
2. Click **Show** next to **Client Secret** to reveal it
3. Copy the **Client ID** and **Client Secret**
4. Store these securely

**Storing Credentials:**

The preferred method is to store OAuth credentials in the database using the keys API:

```ts
await corsair.hubspot.keys.setClientId('your-client-id');
await corsair.hubspot.keys.setClientSecret('your-client-secret');
await corsair.hubspot.keys.setRedirectUrl('https://yourapp.com/auth/hubspot/callback');
```

After users complete the OAuth flow, access tokens are automatically stored in the database. You can also set them manually:

```ts
await corsair
    .withTenant('default')
    .hubspot.keys.setAccessToken('access-token');
await corsair
    .withTenant('default')
    .hubspot.keys.setRefreshToken('refresh-token');
```

Alternatively, you can provide credentials directly in the plugin configuration:

```ts title="corsair.ts"
hubspot({
    authType: "oauth_2",
    credentials: {
        clientId: process.env.HUBSPOT_CLIENT_ID,
        clientSecret: process.env.HUBSPOT_CLIENT_SECRET,
    },
})
```

## Webhook Secret

### Step 1: Create Webhook Subscription

1. Go to [HubSpot Settings](https://app.hubspot.com/settings)
2. Navigate to **Integrations** → **Private Apps**
3. Select your private app (or create one if needed)
4. Go to **Webhooks** tab
5. Click **Create subscription**
6. Configure:
   - **Event type**: Select from:
     - Contact created/updated/deleted
     - Company created/updated/deleted
     - Deal created/updated/deleted
     - Ticket created/updated/deleted
   - **Webhook URL**: Your webhook endpoint (e.g., `https://yourapp.com/api/webhook`)
7. Click **Save**
8. If a webhook secret is provided, copy it and store securely

**Storing Credentials:**

The preferred method is to store the webhook secret in the database using the keys API:

```ts
await corsair
    .withTenant('default')
    .hubspot.keys.setWebhookSignature('your-webhook-secret');
```

Alternatively, you can provide the secret directly in the plugin configuration:

```ts title="corsair.ts"
hubspot({
    webhookSecret: process.env.HUBSPOT_WEBHOOK_SECRET,
})
```

## Required Credentials Summary

| Credential | Required For | Where to Find |
|-----------|--------------|---------------|
| API Key | API Key auth | Settings → Integrations → Private Apps → Overview |
| Client ID | OAuth 2.0 | Developer Portal → App Settings → Auth |
| Client Secret | OAuth 2.0 | Developer Portal → App Settings → Auth |
| Webhook Secret | Webhooks | Settings → Integrations → Private Apps → Webhooks |

For general information about how Corsair handles authentication, see [Authentication](/concepts/auth).
